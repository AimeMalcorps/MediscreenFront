<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title> Spring Boot </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
</head>

<body>
    <div *ngIf="!assessmentView">
        <div class="row justify-content-center">
            <h2 class="col-md-12 text-center" style="margin-bottom: 5%;"> MEDISCREEN DEMOGRAPHIC </h2>
            <a (click)="this.navigate('patientList')" class="btn btn-success col-md-1" style="margin-right: 5%;">GET ALL
                PATIENTS</a>
            <a (click)="this.navigate('patientNotes')" class="btn btn-success col-md-1">GET ALL NOTES</a>
        </div>
        <div class="row justify-content-center" style="margin-top:40px;">
            <h4 class="col-md-7"> ADD PATIENT : </h4>
            <form [formGroup]="addPatientForm" (ngSubmit)="onSubmitAddPatient()" class="row justify-content-center">
                <div class="col-md-1">
                    <label for="familly">Familly</label>
                    <input id="familly" type="text" placeholder="familly" formControlName="familly" required>
                </div>
                <div class="col-md-1">
                    <label for="given">Given</label>
                    <input id="given" type="text" placeholder="given" formControlName="given" required>
                </div>
                <div class="col-md-1">
                    <label for="dob">Date of Birth</label>
                    <input id="dob" type="text" placeholder="dob" formControlName="dob" required>
                </div>
                <div class="col-md-1">
                    <label for="sex">Sex</label>
                    <input id="sex" type="text" placeholder="sex" formControlName="sex" required>
                </div>
                <div class="col-md-1">
                    <label for="address">Address</label>
                    <input id="address" type="text" placeholder="address" formControlName="address" required>
                </div>
                <div class="col-md-1">
                    <label for="phone">Phone</label>
                    <input id="phone" type="text" placeholder="phone" formControlName="phone" required>
                </div>
                <button class="col-md-1 btn btn-success" style="margin-left: 3%;" type="submit" onclick="blur();">Add
                    Patient</button>
                <span class="col-md-7" *ngIf=!formComplete style="color:red;">Incomplete fields</span>
                <span class="col-md-7" *ngIf=addPatientSuccess style="color:green;">Patient successfully add to data base</span>
            </form>
        </div>
        <div class="row justify-content-center" style="margin-top:40px;">
            <h4 class="col-md-7"> SEARCH PATIENT BY NAME : </h4>
            <form [formGroup]="searchPatientForm" (ngSubmit)="onSubmitElement($event.submitter.id)"
                class="row justify-content-center" style="width: 100%">
                <div class="col-md-7">
                    <label for="familly">Last Name</label>
                    <input id="familly" type="text" placeholder="familly" formControlName="familly" required>
                    <button id="1" type="submit" class="btn btn-success" style="margin-left: 1%;">Search
                        Patient</button>
                    <button id="2" type="submit" class="btn btn-success"
                        style="margin-left: 1%;">Search Assessment</button>
                </div>
            </form>
            <span class="col-md-7" *ngIf="patientNotFound" style="color:red;">Patient not found</span>
        </div>
    </div>
    <div *ngIf="assessmentView" class="row justify-content-center">
        <div class="card col-md-4">
            <div class="card-body ">
                <h4 class="card-title">Assessment for : {{this.assessment.patientInfo}}</h4>
                <h4 *ngIf="assessment != undefined" class="card-text">Diabetes assessment is : {{this.assessment.result}}</h4>
                <h4 *ngIf="assessment == undefined" class="card-text">Error when creating assessment</h4>
                <a (click)="mainView()" class="btn btn-warning" style="margin-left: 80%;">Back</a>
            </div>
        </div>
    </div>
</body>

</html>